(this["webpackJsonpsas-fe"]=this["webpackJsonpsas-fe"]||[]).push([[20],{1157:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var r=a(93),n=a(4),c=a(54),i=a(14),l=a(8),s=a(1),o=a(995),d=a(48),b=a(1061),u=a(40),j=a(17),m=a(0);var h=function(e){var t=Object(d.a)(),a=Object(j.c)(Object(u.c)(t.palette.primary.main));return Object(m.jsx)("div",{className:"FusePageCarded-header",children:e.header&&Object(m.jsx)(b.a,{theme:a,children:e.header})})},p=a(6),x=a(16),O=a(109),f=a(1071),g=a(1073);var v=function(e){var t=Object(d.a)(),a=Object(j.c)(Object(u.c)(t.palette.primary.main));return Object(m.jsxs)(m.Fragment,{children:[e.header&&Object(m.jsx)(b.a,{theme:a,children:Object(m.jsx)("div",{className:Object(l.a)("FusePageCarded-sidebarHeader",e.variant),children:e.header})}),e.content&&Object(m.jsx)(c.a,{className:"FusePageCarded-sidebarContent",enable:e.innerScroll,children:e.content})]})};function w(e,t){var a=Object(s.useState)(!1),r=Object(x.a)(a,2),n=r[0],c=r[1];Object(s.useImperativeHandle)(t,(function(){return{toggleSidebar:i}}));var i=function(){c(!n)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f.a,{lgUp:"permanent"===e.variant,children:Object(m.jsx)(g.a,{variant:"temporary",anchor:e.position,open:n,onOpen:function(e){},onClose:function(e){return i()},disableSwipeToOpen:!0,classes:{root:Object(l.a)("FusePageCarded-sidebarWrapper",e.variant),paper:Object(l.a)("FusePageCarded-sidebar",e.variant,"left"===e.position?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar")},ModalProps:{keepMounted:!0},container:e.rootRef.current,BackdropProps:{classes:{root:"FusePageCarded-backdrop"}},style:{position:"absolute"},children:Object(m.jsx)(v,Object(p.a)({},e))})}),"permanent"===e.variant&&Object(m.jsx)(f.a,{lgDown:!0,children:Object(m.jsx)(O.a,{variant:"permanent",className:Object(l.a)("FusePageCarded-sidebarWrapper",e.variant),open:n,classes:{paper:Object(l.a)("FusePageCarded-sidebar",e.variant,"left"===e.position?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar")},children:Object(m.jsx)(v,Object(p.a)({},e))})})]})}var N,S=Object(s.forwardRef)(w),C=Object(i.a)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"row",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.default,"& .FusePageCarded-innerScroll":{height:"100%"},"& .FusePageCarded-topBg":{position:"absolute",left:0,right:0,top:0,height:F,background:"linear-gradient(to right, ".concat(t.palette.primary.dark," 0%, ").concat(t.palette.primary.main," 100%)"),backgroundSize:"cover",pointerEvents:"none"},"& .FusePageCarded-contentWrapper":Object(n.a)({display:"flex",flexDirection:"column",padding:"0 3.2rem",flex:"1 1 100%",zIndex:2,maxWidth:"100%",minWidth:0,minHeight:0},t.breakpoints.down("sm"),{padding:"0 1.6rem"}),"& .FusePageCarded-header":{height:R,minHeight:R,maxHeight:R,display:"flex",color:t.palette.primary.contrastText},"& .FusePageCarded-headerSidebarToggleButton":{color:t.palette.primary.contrastText},"& .FusePageCarded-contentCard":{display:"flex",flex:"1 1 100%",flexDirection:"column",backgroundColor:t.palette.background.paper,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",minHeight:0,borderRadius:"20px 20px 0 0"},"& .FusePageCarded-toolbar":{height:y,minHeight:y,display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(t.palette.divider)},"& .FusePageCarded-content":{flex:"1 1 auto",height:"100%",overflow:"auto",WebkitOverflowScrolling:"touch"},"& .FusePageCarded-sidebarWrapper":{position:"absolute",backgroundColor:"transparent",zIndex:5,overflow:"hidden","&.permanent":Object(n.a)({},t.breakpoints.up("lg"),{zIndex:1,position:"relative"})},"& .FusePageCarded-sidebar":{position:"absolute","&.permanent":Object(n.a)({},t.breakpoints.up("lg"),{backgroundColor:"transparent",position:"relative",border:"none",overflow:"hidden"}),width:P,height:"100%"},"& .FusePageCarded-leftSidebar":{},"& .FusePageCarded-rightSidebar":{},"& .FusePageCarded-sidebarHeader":{height:F,minHeight:F,color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.dark,"&.permanent":Object(n.a)({},t.breakpoints.up("lg"),{backgroundColor:"transparent"})},"& .FusePageCarded-sidebarContent":Object(n.a)({display:"flex",flex:"1 1 auto",flexDirection:"column",backgroundColor:t.palette.background.default,color:t.palette.text.primary},t.breakpoints.up("lg"),{overflow:"auto",WebkitOverflowScrolling:"touch"}),"& .FusePageCarded-backdrop":{position:"absolute"}}})),P=240,F=200,y=64,R=F-y,k=Object(s.forwardRef)((function(e,t){var a=Object(s.useRef)(null),r=Object(s.useRef)(null),n=Object(s.useRef)(null),i=e.rightSidebarHeader||e.rightSidebarContent,d=e.leftSidebarHeader||e.leftSidebarContent;return Object(s.useImperativeHandle)(t,(function(){return{rootRef:n,toggleLeftSidebar:function(){a.current.toggleSidebar()},toggleRightSidebar:function(){r.current.toggleSidebar()}}})),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(o.a,{styles:function(t){return{"#fuse-main":{height:e.innerScroll&&"100vh"}}}}),Object(m.jsxs)(C,{className:Object(l.a)("FusePageCarded-root",e.innerScroll&&"FusePageCarded-innerScroll",e.className),ref:n,children:[Object(m.jsx)("div",{className:"FusePageCarded-topBg"}),Object(m.jsxs)("div",{className:"flex container w-full",children:[d&&Object(m.jsx)(S,{position:"left",header:e.leftSidebarHeader,content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",innerScroll:e.innerScroll,ref:a,rootRef:n}),Object(m.jsxs)("div",{className:Object(l.a)("FusePageCarded-contentWrapper",d&&(void 0===e.leftSidebarVariant||"permanent"===e.leftSidebarVariant)&&"lg:ltr:pl-0 lg:rtl:pr-0",i&&(void 0===e.rightSidebarVariant||"permanent"===e.rightSidebarVariant)&&"lg:pr-0"),children:[Object(m.jsx)(h,{header:e.header}),Object(m.jsxs)("div",{className:Object(l.a)("FusePageCarded-contentCard",e.innerScroll&&"inner-scroll"),children:[e.contentToolbar&&Object(m.jsx)("div",{className:"FusePageCarded-toolbar",children:e.contentToolbar}),e.content&&Object(m.jsx)(c.a,{className:"FusePageCarded-content",enable:e.innerScroll,scrollToTopOnRouteChange:e.innerScroll,children:e.content})]})]}),i&&Object(m.jsx)(S,{position:"right",header:e.rightSidebarHeader,content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",innerScroll:e.innerScroll,ref:r,rootRef:n})]})]})]})}));k.defaultProps={};var I=Object(s.memo)(Object(i.a)(k)(N||(N=Object(r.a)([""]))))},1319:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a(4),c=a(1157),i=a(14),l=a(1200),s=a(1207),o=a(31),d=a(1),b=a(17),u=a(1047),j=a(1026),m=a(194),h=a(438),p=a(0);var x=function(e){e.pageLayout,Object(b.b)(),Object(b.c)(h.e);var t=Object(b.c)((function(e){return e.auth.user})),a=Object(d.useState)({id:1,menuEl:null}),n=Object(r.a)(a,2);return n[0],n[1],Object(p.jsx)("div",{className:"flex flex-col justify-between flex-1 min-w-0 px-24 pt-24",children:Object(p.jsxs)("div",{className:"flex items-center min-w-0",children:[t.data.photoURL?Object(p.jsx)(u.a,{className:"w-52 h-52 sm:w-64 sm:h-64",alt:"user photo",src:t.data.photoURL}):Object(p.jsx)(u.a,{className:"w-52 h-52 sm:w-64 sm:h-64",children:t.data.displayName[0]}),Object(p.jsxs)("div",{className:"mx-12 min-w-0",children:[Object(p.jsxs)(m.a,{className:"text-18 sm:text-24 md:text-32 font-bold leading-none mb-8 tracking-tight",children:["Bentornato, ",t.data.displayName,"!"]}),Object(p.jsxs)("div",{className:"flex items-center opacity-60 truncate",children:[Object(p.jsx)(j.a,{className:"text-14 sm:text-24",children:"notifications"}),Object(p.jsx)(m.a,{className:"text-12 sm:text-14 font-medium mx-4 truncate",children:"Hai nuove notifiche"})]})]})]})})},O=a(1068),f=a(6),g=a(1027),v=a(1270),w=a.n(v),N=a(172),S=a(1038),C=a(1197),P=a(1198),F=a(33),y=a(36),R=function(){var e=Object(d.useState)("INIT"),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(b.b)(),i=Object(d.useState)(null),l=Object(r.a)(i,2),s=l[0],o=l[1],u=Object(d.useState)(-1),x=Object(r.a)(u,2),O=x[0],v=x[1],R=Object(b.c)((function(e){return e})),k=Object(b.c)((function(e){return e.dashboardManager.widgets.entities.HRCombo})),I=y.a.getPartialPathSync(R);Object(d.useEffect)((function(){n("PENDING"),F.a.getAxiosClient().get("".concat(I,"/queries/listHr")).then((function(e){o(e.data.map((function(e){return e.label=e.value,e}))),n("FULFILL")})).catch((function(e){n("ERROR")}))}),[O]);var L=function(e,t){c(t?Object(h.c)(t):Object(h.c)(null))};return Object(d.useMemo)((function(){return Object(p.jsxs)(N.a,{className:"w-full rounded-20 shadow flex flex-col justify-between",children:[Object(p.jsxs)("div",{className:"flex items-center justify-between px-4 pt-8",children:[Object(p.jsx)(m.a,{className:"text-16 px-16 font-medium",color:"textSecondary",children:k.title}),Object(p.jsx)(g.a,{"aria-label":"more",size:"large",onClick:function(){v((new Date).getMilliseconds())},disabled:"PENDING"===a,children:Object(p.jsx)(j.a,{children:"refresh"})})]}),Object(p.jsxs)("div",{className:"text-center py-12",children:["PENDING"===a?Object(p.jsx)(P.a,{className:"text-orange"}):null,"FULFILL"===a?Object(p.jsx)(C.a,{disablePortal:!0,value:k.selected,options:s,className:"text-center p-12",renderInput:function(e){return Object(p.jsx)(S.a,Object(f.a)(Object(f.a)({},e),{},{label:"Aziende Appaltatrici"}))},onChange:L}):null,"ERROR"===a?Object(p.jsx)(w.a,{color:"error",fontSize:"large"}):null]})]})}),[s,a,k.selected])},k=function(){var e=Object(d.useState)("INIT"),t=Object(r.a)(e,2),a=t[0],n=t[1],c=Object(b.b)(),i=Object(d.useState)(null),l=Object(r.a)(i,2),s=l[0],o=l[1],u=Object(d.useState)(-1),x=Object(r.a)(u,2),O=x[0],v=x[1],R=Object(b.c)((function(e){return e})),k=Object(b.c)((function(e){return e.dashboardManager.widgets.entities.TRCombo})),I=y.a.getPartialPathSync(R);Object(d.useEffect)((function(){n("PENDING"),F.a.getAxiosClient().get("".concat(I,"/queries/listTr")).then((function(e){o(e.data.map((function(e){return e.label=e.value,e}))),n("FULFILL")})).catch((function(e){n("ERROR")}))}),[O]);var L=function(e,t){c(t?Object(h.d)(t):Object(h.d)(null))};return Object(d.useMemo)((function(){return Object(p.jsxs)(N.a,{className:"w-full rounded-20 shadow flex flex-col justify-between",children:[Object(p.jsxs)("div",{className:"flex items-center justify-between px-4 pt-8",children:[Object(p.jsx)(m.a,{className:"text-16 px-16 font-medium",color:"textSecondary",children:k.title}),Object(p.jsx)(g.a,{"aria-label":"more",size:"large",onClick:function(){v((new Date).getMilliseconds())},disabled:"PENDING"===a,children:Object(p.jsx)(j.a,{children:"refresh"})})]}),Object(p.jsxs)("div",{className:"text-center py-12",children:["PENDING"===a?Object(p.jsx)(P.a,{className:"text-orange"}):null,"FULFILL"===a?Object(p.jsx)(C.a,{disablePortal:!0,value:k.selected,options:s,className:"text-center p-12",renderInput:function(e){return Object(p.jsx)(S.a,Object(f.a)(Object(f.a)({},e),{},{label:"Istituti di formazione"}))},onChange:L}):null,"ERROR"===a?Object(p.jsx)(w.a,{color:"error",fontSize:"large"}):null]})]})}),[s,a,k.selected])},I=a(67),L=function(e){var t=Object(d.useState)(null),a=Object(r.a)(t,2),n=a[0],c=a[1],i=function(e,t){c(t||null)};return Object(d.useMemo)((function(){return Object(p.jsxs)(N.a,{className:"w-full rounded-20 shadow flex flex-col justify-between",children:[Object(p.jsx)("div",{className:"flex items-center justify-between px-4 pt-8 mb-24",children:Object(p.jsx)(m.a,{className:"text-16 px-16 font-medium",color:"textSecondary",children:e.widget.title})}),Object(p.jsx)("div",{className:"text-center py-12",children:Object(p.jsx)(C.a,{disablePortal:!0,value:n,options:I.a.valutazione,className:"text-center p-12",renderInput:function(e){return Object(p.jsx)(S.a,Object(f.a)(Object(f.a)({},e),{},{label:"Stato valutazione"}))},onChange:i})})]})}),[n])},H=a(48),E=a(1299);var D=function(e){var t=Object(H.a)(),a=Object(d.useState)(0),n=Object(r.a)(a,2),c=n[0],i=(n[1],o.a.merge({},e.widget));Object.keys(i.ranges)[c],o.a.setWith(i,"mainChart.options.colors",[t.palette.primary.main,t.palette.secondary.main]);var l=Object(d.useState)("INIT"),s=Object(r.a)(l,2),u=s[0],h=s[1],x=Object(d.useState)(null),O=Object(r.a)(x,2),f=O[0],v=O[1],S=Object(d.useState)(-1),C=Object(r.a)(S,2),R=C[0],k=C[1],L=Object(b.c)((function(e){return e})),D=y.a.getPartialPathSync(L);return Object(d.useEffect)((function(){h("PENDING"),F.a.getAxiosClient().get("".concat(D,"/queries/groupAssessmentByState")).then((function(e){v(e.data.map((function(e){return{name:I.a.getIndex()[e._id.stato],value:e.value}}))),h("FULFILL")})).catch((function(e){h("ERROR")}))}),[R]),Object(d.useMemo)((function(){return Object(p.jsxs)(N.a,{className:"w-full rounded-20 shadow",children:[Object(p.jsxs)("div",{className:"flex items-center justify-between p-20",children:[Object(p.jsx)(m.a,{className:"text-16 font-medium",children:i.title}),Object(p.jsx)(g.a,{"aria-label":"more",size:"large",onClick:function(){k((new Date).getMilliseconds())},disabled:"PENDING"===u,children:Object(p.jsx)(j.a,{children:"refresh"})})]}),Object(p.jsxs)("div",{className:"flex flex-row flex-wrap",children:[Object(p.jsxs)("div",{className:"w-full md:w-1/2 p-8 flex-wrap",children:["PENDING"===u?Object(p.jsx)(P.a,{className:"text-orange"}):null,"FULFILL"===u?Object(p.jsx)(E.a,{className:"max-h-max min-h-max",option:{tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Stato valutazione",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:f}]}}):null,"ERROR"===u?Object(p.jsx)(w.a,{color:"error",fontSize:"large"}):null]}),Object(p.jsx)("div",{className:"flex w-full md:w-1/2 flex-wrap p-8 max-h-1/6"})]})]})}),[f,u])};var z=function(){var e=Object(b.c)(h.e),t={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return Object(p.jsxs)(O.a.div,{className:"flex flex-wrap",variants:{show:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",children:[Object(p.jsx)(O.a.div,{variants:t,className:"widget flex w-full max-h-1/3 h-1/3 sm:w-1/2 md:w-1/3 p-12",children:Object(p.jsx)(R,{widget:e.HRCombo})}),Object(p.jsx)(O.a.div,{variants:t,className:"widget flex w-full max-h-1/3 h-1/3 sm:w-1/2 md:w-1/3 p-12",children:Object(p.jsx)(k,{widget:e.TRCombo})}),Object(p.jsx)(O.a.div,{variants:t,className:"widget flex w-full max-h-1/3 h-1/3 sm:w-1/2 md:w-1/3 p-12",children:Object(p.jsx)(L,{widget:e.StateComboWidget})}),Object(p.jsx)(O.a.div,{variants:t,className:"widget flex w-full max-h-1/3 h-1/3 p-12",children:Object(p.jsx)(D,{widget:e.widget5})})]})},T=Object(i.a)(c.a)((function(e){var t=e.theme;return{"& .FusePageSimple-header":Object(n.a)({minHeight:160,height:160},t.breakpoints.up("lg"),{marginRight:12,borderBottomRightRadius:20}),"& .FusePageSimple-toolbar":{minHeight:56,height:56,alignItems:"flex-end"},"& .FusePageSimple-rightSidebar":{width:288,border:0,padding:"12px 0"},"& .FusePageSimple-content":{maxHeight:"100%","& canvas":{maxHeight:"100%"}}}}));t.default=function(e){var t=Object(b.b)(),a=Object(b.c)(h.e),n=Object(d.useRef)(null),c=Object(d.useState)(0),i=Object(r.a)(c,2),u=i[0],j=i[1];return Object(d.useEffect)((function(){t(Object(h.b)())}),[t]),o.a.isEmpty(a)?null:Object(p.jsx)(T,{header:Object(p.jsx)(x,{pageLayout:n}),contentToolbar:Object(p.jsx)(s.a,{value:u,onChange:function(e,t){j(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"},children:Object(p.jsx)(l.a,{className:"h-64",disableRipple:!0,label:"Home"})}),content:Object(p.jsx)("div",{className:"p-12 lg:ltr:pr-0 lg:rtl:pl-0",children:0===u&&Object(p.jsx)(z,{})}),ref:n})}}}]);